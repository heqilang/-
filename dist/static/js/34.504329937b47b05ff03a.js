webpackJsonp([34],{1900:function(t,e,a){var l=a(1901);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(1114)("3cbfe5e3",l,!0)},1901:function(t,e,a){e=t.exports=a(1113)(),e.push([t.i,".classDialog .el-dialog__body{min-height:50vh}.classDialog .activetab{background:red;color:#fff}",""])},1902:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){return{pager:{pageSize:10,pageIndex:1,total:null},tabitemindex:0,tablist:[{name:"重大隐患",value:"2"},{name:"一般隐患",value:"1"}],dialogFormVisible:!0,dataTable:[]}},watch:{},created:function(){},mounted:function(){this.getList()},methods:{viewchange:function(t,e){this.$emit("viewchange",t,e),this.$emit("closeDialog")},closeDialog:function(){this.$emit("closeDialog")},tabitemchange:function(t){this.tabitemindex=t,this.getList()},getList:function(){var t=this,e={size:t.pager.pageSize,current:t.pager.pageIndex,level:t.tablist[t.tabitemindex].value,transform:"B:building,F:floor"};t.dataTable=[],t._http({url:"/api/web/indexCountTwo/findRisks",type:"get",isBody:!0,data:e,success:function(e){t.dataTable=e.data.records,t.pager.total=e.data.total}})}},computed:{},components:{}}},1903:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"classDialog"},[a("el-dialog",{staticClass:"unit-edit-con",attrs:{"before-close":t.closeDialog,"modal-append-to-body":!1,title:"隐患清单",visible:t.dialogFormVisible,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticStyle:{display:"flex",height:"40px"}},t._l(t.tablist,function(e,l){return a("div",{key:l,on:{click:function(e){return t.tabitemchange(l)}}},[a("div",{class:t.tabitemindex==l?"activetab":"",staticStyle:{padding:"0px 10px",cursor:"pointer"}},[t._v(t._s(e.name))])])}),0),t._v(" "),a("el-table",{attrs:{data:t.dataTable}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"risksType",label:"隐患类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.risksType?a("div",[t._v(t._s("EQUIPMENT"==e.row.risksType?"消防设备":"环境隐患"))]):a("div",[t._v("--")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"handleReportor",label:"上报人员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"handleReportTime",label:"上报时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"building",label:"所属区域"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.lookup.building?a("div",[t._v(t._s(e.row.lookup.building)+"-"+t._s(e.row.lookup.floor))]):a("div",[t._v("--")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"详细地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"risksImages",label:"现场照片"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"}},[t._v(" 查看 ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"feedback",label:"反馈状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.feedback?a("div",[t._v(t._s("YES"==e.row.feedback?"成功":"失败"))]):a("div",[t._v("--")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"handler",label:"处置人员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"takeTime",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.viewchange(e.row,"隐患详情")}}},[t._v(" 查看 ")])]}}])})],1),t._v(" "),a("div",{staticClass:"text_c mar-t-18"},[0!==t.pager.total?a("customPagination",{attrs:{paginationData:t.pager},on:{getList:t.getList}}):t._e()],1)],1)],1)},staticRenderFns:[]}},407:function(t,e,a){a(1900);var l=a(3)(a(1902),a(1903),null,null);t.exports=l.exports}});